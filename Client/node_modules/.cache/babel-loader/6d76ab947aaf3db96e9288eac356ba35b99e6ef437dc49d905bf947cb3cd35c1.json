{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\iarha\\\\OneDrive\\\\Desktop\\\\React mini\\\\mega project\\\\remotre code collab\\\\Client\\\\src\\\\components\\\\Audiocall.js\",\n  _s = $RefreshSig$();\nimport React, { useRef } from 'react';\nimport { AiOutlineAudio } from \"react-icons/ai\";\nimport { ZegoUIKitPrebuilt } from '@zegocloud/zego-uikit-prebuilt';\nimport { useLocation } from 'react-router-dom';\nimport toast from \"react-hot-toast\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Audiocall = () => {\n  _s();\n  const location = useLocation();\n  const {\n    username,\n    roomid\n  } = location.state || {};\n\n  // useRef for the call container\n  const containerRef = useRef(null);\n  const startCall = async () => {\n    try {\n      const appID = 1029814731; // Replace with your ZEGOCLOUD App ID\n      const serverSecret = \"487ec97a55397f781ce2a05b879b756c\"; // Replace with your ZEGOCLOUD Server Secret\n      const userID = String(roomid || \"defaultRoomID\");\n      const userName = String(username || \"Guest\");\n\n      // Generate Kit Token\n      const kitToken = ZegoUIKitPrebuilt.generateKitTokenForProduction(appID, serverSecret, userID, userName);\n\n      // Create ZegoUIKitPrebuilt instance and join the room\n      const zc = ZegoUIKitPrebuilt.create(kitToken);\n      zc.joinRoom({\n        container: containerRef.current,\n        // Use the ref here\n        sharedLinks: [{\n          name: 'Personal link',\n          url: `${window.location.protocol}//${window.location.host}${window.location.pathname}?roomID=${userID}`\n        }],\n        scenario: {\n          mode: ZegoUIKitPrebuilt.GroupCall\n        },\n        enableRoomIDInput: false,\n        userID: userID,\n        userName: userName\n      });\n    } catch (error) {\n      console.error(\"Error initializing ZEGOCLOUD call:\", error);\n      toast.error(\"Failed to start the call. Please check your configuration.\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: startCall,\n      className: \"text-blue-500 mb-4\",\n      children: [/*#__PURE__*/_jsxDEV(AiOutlineAudio, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this), \" Voice and Video Call\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: containerRef,\n      style: {\n        width: '100%',\n        height: '80vh'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 5\n  }, this);\n};\n_s(Audiocall, \"1NlImm+CtMOliLCvyfbTQkXEuac=\", false, function () {\n  return [useLocation];\n});\n_c = Audiocall;\nexport default Audiocall;\nvar _c;\n$RefreshReg$(_c, \"Audiocall\");","map":{"version":3,"names":["React","useRef","AiOutlineAudio","ZegoUIKitPrebuilt","useLocation","toast","jsxDEV","_jsxDEV","Audiocall","_s","location","username","roomid","state","containerRef","startCall","appID","serverSecret","userID","String","userName","kitToken","generateKitTokenForProduction","zc","create","joinRoom","container","current","sharedLinks","name","url","window","protocol","host","pathname","scenario","mode","GroupCall","enableRoomIDInput","error","console","children","onClick","className","fileName","_jsxFileName","lineNumber","columnNumber","ref","style","width","height","_c","$RefreshReg$"],"sources":["C:/Users/iarha/OneDrive/Desktop/React mini/mega project/remotre code collab/Client/src/components/Audiocall.js"],"sourcesContent":["import React, { useRef } from 'react';\r\nimport { AiOutlineAudio } from \"react-icons/ai\";\r\nimport { ZegoUIKitPrebuilt } from '@zegocloud/zego-uikit-prebuilt';\r\nimport { useLocation } from 'react-router-dom';\r\nimport toast from \"react-hot-toast\";\r\n\r\nconst Audiocall = () => {\r\n  const location = useLocation();\r\n  const { username, roomid } = location.state || {};\r\n  \r\n  // useRef for the call container\r\n  const containerRef = useRef(null);\r\n\r\n  const startCall = async () => {\r\n    try {\r\n      const appID = 1029814731; // Replace with your ZEGOCLOUD App ID\r\n      const serverSecret = \"487ec97a55397f781ce2a05b879b756c\"; // Replace with your ZEGOCLOUD Server Secret\r\n      const userID = String(roomid || \"defaultRoomID\"); \r\n      const userName = String(username || \"Guest\"); \r\n\r\n      // Generate Kit Token\r\n      const kitToken = ZegoUIKitPrebuilt.generateKitTokenForProduction(appID, serverSecret, userID, userName);\r\n\r\n      // Create ZegoUIKitPrebuilt instance and join the room\r\n      const zc = ZegoUIKitPrebuilt.create(kitToken);\r\n      zc.joinRoom({\r\n        container: containerRef.current, // Use the ref here\r\n        sharedLinks: [\r\n          {\r\n            name: 'Personal link',\r\n            url: `${window.location.protocol}//${window.location.host}${window.location.pathname}?roomID=${userID}`,\r\n          },\r\n        ],\r\n        scenario: {\r\n          mode: ZegoUIKitPrebuilt.GroupCall,\r\n        },\r\n        enableRoomIDInput: false,\r\n        userID: userID,\r\n        userName: userName,\r\n      });\r\n    } catch (error) {\r\n      console.error(\"Error initializing ZEGOCLOUD call:\", error);\r\n      toast.error(\"Failed to start the call. Please check your configuration.\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <button onClick={startCall} className=\"text-blue-500 mb-4\">\r\n        <AiOutlineAudio /> Voice and Video Call\r\n      </button>\r\n      {/* The call container div, connected via ref */}\r\n      <div ref={containerRef} style={{ width: '100%', height: '80vh' }}></div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Audiocall;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,MAAM,QAAQ,OAAO;AACrC,SAASC,cAAc,QAAQ,gBAAgB;AAC/C,SAASC,iBAAiB,QAAQ,gCAAgC;AAClE,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,OAAOC,KAAK,MAAM,iBAAiB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEpC,MAAMC,SAAS,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACtB,MAAMC,QAAQ,GAAGN,WAAW,CAAC,CAAC;EAC9B,MAAM;IAAEO,QAAQ;IAAEC;EAAO,CAAC,GAAGF,QAAQ,CAACG,KAAK,IAAI,CAAC,CAAC;;EAEjD;EACA,MAAMC,YAAY,GAAGb,MAAM,CAAC,IAAI,CAAC;EAEjC,MAAMc,SAAS,GAAG,MAAAA,CAAA,KAAY;IAC5B,IAAI;MACF,MAAMC,KAAK,GAAG,UAAU,CAAC,CAAC;MAC1B,MAAMC,YAAY,GAAG,kCAAkC,CAAC,CAAC;MACzD,MAAMC,MAAM,GAAGC,MAAM,CAACP,MAAM,IAAI,eAAe,CAAC;MAChD,MAAMQ,QAAQ,GAAGD,MAAM,CAACR,QAAQ,IAAI,OAAO,CAAC;;MAE5C;MACA,MAAMU,QAAQ,GAAGlB,iBAAiB,CAACmB,6BAA6B,CAACN,KAAK,EAAEC,YAAY,EAAEC,MAAM,EAAEE,QAAQ,CAAC;;MAEvG;MACA,MAAMG,EAAE,GAAGpB,iBAAiB,CAACqB,MAAM,CAACH,QAAQ,CAAC;MAC7CE,EAAE,CAACE,QAAQ,CAAC;QACVC,SAAS,EAAEZ,YAAY,CAACa,OAAO;QAAE;QACjCC,WAAW,EAAE,CACX;UACEC,IAAI,EAAE,eAAe;UACrBC,GAAG,EAAE,GAAGC,MAAM,CAACrB,QAAQ,CAACsB,QAAQ,KAAKD,MAAM,CAACrB,QAAQ,CAACuB,IAAI,GAAGF,MAAM,CAACrB,QAAQ,CAACwB,QAAQ,WAAWhB,MAAM;QACvG,CAAC,CACF;QACDiB,QAAQ,EAAE;UACRC,IAAI,EAAEjC,iBAAiB,CAACkC;QAC1B,CAAC;QACDC,iBAAiB,EAAE,KAAK;QACxBpB,MAAM,EAAEA,MAAM;QACdE,QAAQ,EAAEA;MACZ,CAAC,CAAC;IACJ,CAAC,CAAC,OAAOmB,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,oCAAoC,EAAEA,KAAK,CAAC;MAC1DlC,KAAK,CAACkC,KAAK,CAAC,4DAA4D,CAAC;IAC3E;EACF,CAAC;EAED,oBACEhC,OAAA;IAAAkC,QAAA,gBACElC,OAAA;MAAQmC,OAAO,EAAE3B,SAAU;MAAC4B,SAAS,EAAC,oBAAoB;MAAAF,QAAA,gBACxDlC,OAAA,CAACL,cAAc;QAAA0C,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,yBACpB;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC,eAETxC,OAAA;MAAKyC,GAAG,EAAElC,YAAa;MAACmC,KAAK,EAAE;QAAEC,KAAK,EAAE,MAAM;QAAEC,MAAM,EAAE;MAAO;IAAE;MAAAP,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAM,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACrE,CAAC;AAEV,CAAC;AAACtC,EAAA,CAjDID,SAAS;EAAA,QACIJ,WAAW;AAAA;AAAAgD,EAAA,GADxB5C,SAAS;AAmDf,eAAeA,SAAS;AAAC,IAAA4C,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}