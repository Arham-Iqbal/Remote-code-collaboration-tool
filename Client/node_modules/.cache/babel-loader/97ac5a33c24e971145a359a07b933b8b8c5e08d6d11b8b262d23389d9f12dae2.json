{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\iarha\\\\OneDrive\\\\Desktop\\\\React mini\\\\mega project\\\\remotre code collab\\\\Client\\\\src\\\\components\\\\Audiocall.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect } from 'react';\nimport { AiOutlineAudio } from \"react-icons/ai\";\nimport { ZegoUIKitPrebuilt } from '@zegocloud/zego-uikit-prebuilt';\nimport { useLocation } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Audiocall = () => {\n  _s();\n  const location = useLocation();\n  const {\n    username,\n    roomid\n  } = location.state || {};\n  useEffect(() => {\n    if (!roomid || !username) {\n      console.error(\"Room ID and username must be provided\");\n      return;\n    }\n    // Initialize the call once when the component mounts\n    const callContainer = document.getElementById(\"call-container\");\n    if (callContainer) {\n      play(callContainer);\n    }\n  }, [roomid, username]);\n  const play = async element => {\n    const appID = 1029814731; // Replace with your ZEGOCLOUD App ID\n    const serverSecret = \"487ec97a55397f781ce2a05b879b756c\"; // Replace with your ZEGOCLOUD Server Secret\n    const userID = String(roomid); // Room ID as userID\n    const userName = String(username || \"Guest\"); // Convert to string\n\n    // Generate the kit token for the existing room\n    const kitToken = ZegoUIKitPrebuilt.generateKitTokenForProduction(appID, serverSecret, roomid, userID, userName);\n\n    // Create an instance and join the room\n    const zc = ZegoUIKitPrebuilt.create(kitToken);\n    zc.joinRoom({\n      container: element,\n      sharedLinks: [],\n      scenario: {\n        mode: ZegoUIKitPrebuilt.GroupCall // Use GroupCall mode\n      }\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"call-container\",\n      style: {\n        width: '100%',\n        height: '80vh'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => play(document.getElementById(\"call-container\")),\n      children: [/*#__PURE__*/_jsxDEV(AiOutlineAudio, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this), \" Start Voice and Video Call\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 5\n  }, this);\n};\n_s(Audiocall, \"BXcZrDMM76mmm4zA8/QV5UbMNXE=\", false, function () {\n  return [useLocation];\n});\n_c = Audiocall;\nexport default Audiocall;\nvar _c;\n$RefreshReg$(_c, \"Audiocall\");","map":{"version":3,"names":["React","useEffect","AiOutlineAudio","ZegoUIKitPrebuilt","useLocation","jsxDEV","_jsxDEV","Audiocall","_s","location","username","roomid","state","console","error","callContainer","document","getElementById","play","element","appID","serverSecret","userID","String","userName","kitToken","generateKitTokenForProduction","zc","create","joinRoom","container","sharedLinks","scenario","mode","GroupCall","children","id","style","width","height","fileName","_jsxFileName","lineNumber","columnNumber","onClick","_c","$RefreshReg$"],"sources":["C:/Users/iarha/OneDrive/Desktop/React mini/mega project/remotre code collab/Client/src/components/Audiocall.js"],"sourcesContent":["import React, { useEffect } from 'react';\r\nimport { AiOutlineAudio } from \"react-icons/ai\";\r\nimport { ZegoUIKitPrebuilt } from '@zegocloud/zego-uikit-prebuilt';\r\nimport { useLocation } from 'react-router-dom';\r\n\r\nconst Audiocall = () => {\r\n  const location = useLocation();\r\n  const { username, roomid } = location.state || {};\r\n\r\n  useEffect(() => {\r\n    if (!roomid || !username) {\r\n      console.error(\"Room ID and username must be provided\");\r\n      return;\r\n    }\r\n    // Initialize the call once when the component mounts\r\n    const callContainer = document.getElementById(\"call-container\");\r\n    if (callContainer) {\r\n      play(callContainer);\r\n    }\r\n  }, [roomid, username]);\r\n\r\n  const play = async (element) => {\r\n    const appID = 1029814731; // Replace with your ZEGOCLOUD App ID\r\n    const serverSecret = \"487ec97a55397f781ce2a05b879b756c\"; // Replace with your ZEGOCLOUD Server Secret\r\n    const userID = String(roomid); // Room ID as userID\r\n    const userName = String(username || \"Guest\"); // Convert to string\r\n\r\n    // Generate the kit token for the existing room\r\n    const kitToken = ZegoUIKitPrebuilt.generateKitTokenForProduction(appID, serverSecret, roomid, userID, userName);\r\n\r\n    // Create an instance and join the room\r\n    const zc = ZegoUIKitPrebuilt.create(kitToken);\r\n    zc.joinRoom({\r\n      container: element,\r\n      sharedLinks: [],\r\n      scenario: {\r\n        mode: ZegoUIKitPrebuilt.GroupCall, // Use GroupCall mode\r\n      },\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div id=\"call-container\" style={{ width: '100%', height: '80vh' }}></div>\r\n      <button onClick={() => play(document.getElementById(\"call-container\"))}>\r\n        <AiOutlineAudio /> Start Voice and Video Call\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Audiocall;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,QAAQ,OAAO;AACxC,SAASC,cAAc,QAAQ,gBAAgB;AAC/C,SAASC,iBAAiB,QAAQ,gCAAgC;AAClE,SAASC,WAAW,QAAQ,kBAAkB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE/C,MAAMC,SAAS,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACtB,MAAMC,QAAQ,GAAGL,WAAW,CAAC,CAAC;EAC9B,MAAM;IAAEM,QAAQ;IAAEC;EAAO,CAAC,GAAGF,QAAQ,CAACG,KAAK,IAAI,CAAC,CAAC;EAEjDX,SAAS,CAAC,MAAM;IACd,IAAI,CAACU,MAAM,IAAI,CAACD,QAAQ,EAAE;MACxBG,OAAO,CAACC,KAAK,CAAC,uCAAuC,CAAC;MACtD;IACF;IACA;IACA,MAAMC,aAAa,GAAGC,QAAQ,CAACC,cAAc,CAAC,gBAAgB,CAAC;IAC/D,IAAIF,aAAa,EAAE;MACjBG,IAAI,CAACH,aAAa,CAAC;IACrB;EACF,CAAC,EAAE,CAACJ,MAAM,EAAED,QAAQ,CAAC,CAAC;EAEtB,MAAMQ,IAAI,GAAG,MAAOC,OAAO,IAAK;IAC9B,MAAMC,KAAK,GAAG,UAAU,CAAC,CAAC;IAC1B,MAAMC,YAAY,GAAG,kCAAkC,CAAC,CAAC;IACzD,MAAMC,MAAM,GAAGC,MAAM,CAACZ,MAAM,CAAC,CAAC,CAAC;IAC/B,MAAMa,QAAQ,GAAGD,MAAM,CAACb,QAAQ,IAAI,OAAO,CAAC,CAAC,CAAC;;IAE9C;IACA,MAAMe,QAAQ,GAAGtB,iBAAiB,CAACuB,6BAA6B,CAACN,KAAK,EAAEC,YAAY,EAAEV,MAAM,EAAEW,MAAM,EAAEE,QAAQ,CAAC;;IAE/G;IACA,MAAMG,EAAE,GAAGxB,iBAAiB,CAACyB,MAAM,CAACH,QAAQ,CAAC;IAC7CE,EAAE,CAACE,QAAQ,CAAC;MACVC,SAAS,EAAEX,OAAO;MAClBY,WAAW,EAAE,EAAE;MACfC,QAAQ,EAAE;QACRC,IAAI,EAAE9B,iBAAiB,CAAC+B,SAAS,CAAE;MACrC;IACF,CAAC,CAAC;EACJ,CAAC;EAED,oBACE5B,OAAA;IAAA6B,QAAA,gBACE7B,OAAA;MAAK8B,EAAE,EAAC,gBAAgB;MAACC,KAAK,EAAE;QAAEC,KAAK,EAAE,MAAM;QAAEC,MAAM,EAAE;MAAO;IAAE;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAM,CAAC,eACzErC,OAAA;MAAQsC,OAAO,EAAEA,CAAA,KAAM1B,IAAI,CAACF,QAAQ,CAACC,cAAc,CAAC,gBAAgB,CAAC,CAAE;MAAAkB,QAAA,gBACrE7B,OAAA,CAACJ,cAAc;QAAAsC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,+BACpB;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACN,CAAC;AAEV,CAAC;AAACnC,EAAA,CA5CID,SAAS;EAAA,QACIH,WAAW;AAAA;AAAAyC,EAAA,GADxBtC,SAAS;AA8Cf,eAAeA,SAAS;AAAC,IAAAsC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}