{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\iarha\\\\OneDrive\\\\Desktop\\\\React mini\\\\mega project\\\\remotre code collab\\\\Client\\\\src\\\\components\\\\Audiocall.js\",\n  _s = $RefreshSig$();\nimport React, { useRef, useEffect } from \"react\";\nimport { ZegoUIKitPrebuilt } from \"@zegocloud/zego-uikit-prebuilt\";\nimport { useLocation } from \"react-router-dom\";\nimport { AiOutlineAudio } from \"react-icons/ai\";\nimport toast from \"react-hot-toast\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction randomID(len = 5) {\n  const chars = \"12345qwertyuiopasdfgh67890jklmnbvcxzMNBVCZXASDQWERTYHGFUIOLKJP\";\n  let result = \"\";\n  for (let i = 0; i < len; i++) {\n    result += chars.charAt(Math.floor(Math.random() * chars.length));\n  }\n  return result;\n}\nconst Audiocall = () => {\n  _s();\n  const location = useLocation();\n  const {\n    username,\n    roomid\n  } = location.state || {};\n  const containerRef = useRef(null);\n  useEffect(() => {\n    if (username && roomid) {\n      initializeZegoCall();\n    } else {\n      toast.error(\"Username and Room ID are required to start a call.\");\n    }\n  }, [username, roomid, initializeZegoCall]);\n  const initializeZegoCall = async () => {\n    try {\n      const appID = 1029814731; // Your actual App ID\n      const serverSecret = \"487ec97a55397f781ce2a05b879b756c\"; // Your actual server secret\n\n      // Generate Kit Token\n      const kitToken = ZegoUIKitPrebuilt.generateKitTokenForTest(appID, serverSecret, roomid, randomID(), username || \"guest\");\n\n      // Create ZegoUIKitPrebuilt instance and join the room\n      const zp = ZegoUIKitPrebuilt.create(kitToken);\n      zp.joinRoom({\n        container: containerRef.current,\n        sharedLinks: [{\n          name: \"Personal link\",\n          url: `${window.location.origin}${window.location.pathname}?roomID=${roomid}`\n        }],\n        scenario: {\n          mode: ZegoUIKitPrebuilt.GroupCall\n        }\n      });\n    } catch (error) {\n      console.error(\"Error initializing ZEGOCLOUD call:\", error);\n      toast.error(\"Failed to start the call. Please try again.\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: initializeZegoCall,\n      className: \"text-blue-500 mb-4\",\n      children: [/*#__PURE__*/_jsxDEV(AiOutlineAudio, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this), \" Start Voice and Video Call\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: containerRef,\n      style: {\n        width: \"100%\",\n        height: \"80vh\"\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 5\n  }, this);\n};\n_s(Audiocall, \"qNgar8tNqu9E0gwMZCjH5siDZk8=\", false, function () {\n  return [useLocation];\n});\n_c = Audiocall;\nexport default Audiocall;\nvar _c;\n$RefreshReg$(_c, \"Audiocall\");","map":{"version":3,"names":["React","useRef","useEffect","ZegoUIKitPrebuilt","useLocation","AiOutlineAudio","toast","jsxDEV","_jsxDEV","randomID","len","chars","result","i","charAt","Math","floor","random","length","Audiocall","_s","location","username","roomid","state","containerRef","initializeZegoCall","error","appID","serverSecret","kitToken","generateKitTokenForTest","zp","create","joinRoom","container","current","sharedLinks","name","url","window","origin","pathname","scenario","mode","GroupCall","console","children","onClick","className","fileName","_jsxFileName","lineNumber","columnNumber","ref","style","width","height","_c","$RefreshReg$"],"sources":["C:/Users/iarha/OneDrive/Desktop/React mini/mega project/remotre code collab/Client/src/components/Audiocall.js"],"sourcesContent":["import React, { useRef, useEffect } from \"react\";\r\nimport { ZegoUIKitPrebuilt } from \"@zegocloud/zego-uikit-prebuilt\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport { AiOutlineAudio } from \"react-icons/ai\";\r\nimport toast from \"react-hot-toast\";\r\n\r\nfunction randomID(len = 5) {\r\n  const chars = \"12345qwertyuiopasdfgh67890jklmnbvcxzMNBVCZXASDQWERTYHGFUIOLKJP\";\r\n  let result = \"\";\r\n  for (let i = 0; i < len; i++) {\r\n    result += chars.charAt(Math.floor(Math.random() * chars.length));\r\n  }\r\n  return result;\r\n}\r\n\r\nconst Audiocall = () => {\r\n  const location = useLocation();\r\n  const { username, roomid } = location.state || {};\r\n  const containerRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    if (username && roomid) {\r\n      initializeZegoCall();\r\n    } else {\r\n      toast.error(\"Username and Room ID are required to start a call.\");\r\n    }\r\n  }, [username, roomid,initializeZegoCall]);\r\n\r\n  const initializeZegoCall = async () => {\r\n    try {\r\n      const appID = 1029814731; // Your actual App ID\r\n      const serverSecret = \"487ec97a55397f781ce2a05b879b756c\"; // Your actual server secret\r\n      \r\n      // Generate Kit Token\r\n      const kitToken = ZegoUIKitPrebuilt.generateKitTokenForTest(\r\n        appID,\r\n        serverSecret,\r\n        roomid,\r\n        randomID(),\r\n        username || \"guest\"\r\n      );\r\n\r\n      // Create ZegoUIKitPrebuilt instance and join the room\r\n      const zp = ZegoUIKitPrebuilt.create(kitToken);\r\n      zp.joinRoom({\r\n        container: containerRef.current,\r\n        sharedLinks: [\r\n          {\r\n            name: \"Personal link\",\r\n            url: `${window.location.origin}${window.location.pathname}?roomID=${roomid}`,\r\n          },\r\n        ],\r\n        scenario: {\r\n          mode: ZegoUIKitPrebuilt.GroupCall,\r\n        },\r\n      });\r\n    } catch (error) {\r\n      console.error(\"Error initializing ZEGOCLOUD call:\", error);\r\n      toast.error(\"Failed to start the call. Please try again.\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <button onClick={initializeZegoCall} className=\"text-blue-500 mb-4\">\r\n        <AiOutlineAudio /> Start Voice and Video Call\r\n      </button>\r\n      <div\r\n        ref={containerRef}\r\n        style={{ width: \"100%\", height: \"80vh\" }}\r\n      ></div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Audiocall;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}